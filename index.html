<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="public/css/grid.css">
</head>
<body>
    <!-- 为 ECharts 准备一个具备大小（宽高）的 DOM -->
    <div id="leftBar">
        <div class="chooseTopic  logo" style="width: 200px">
            <a href="index.html">安全动态感知系统</a>
        </div>
        <div class="chooseTopic">
            <a href="index.html">总体态势</a>
        </div>
        <div class="chooseTopic">
            <a href="index1.html">数据列表</a>
        </div>
        <div class="chooseTopic">
            <a href="index2.html">图表</a>
        </div>
    </div>
    <div id="main" style="width: 100%;height:100%;"></div>
    <!-- <div id="bar" style="width: 20%;min-height: 250px;"></div>
    <div id="pie" style="width: 20%;min-height: 250px;"></div> -->
   
    <script src="public/js/jquery.min.js"></script>
    <script src="public/js/my.js"></script>
    <!-- 引入 ECharts 文件 -->
<!--     <script src="https://api.map.baidu.com/api?v=2.0&ak=oTpEDdVxMN6Wz7OGB8lk1aUzr958LCz4&s=1;"></script> -->
    <script src="public/js/echarts-all.js"></script>
   <!--  <script src="public/js/dark.js"></script> -->
  <!--   <script src="http://gallery.echartsjs.com/dep/echarts/map/js/world.js"></script> 
    <script src="public/js/extension/bmap.js"></script> -->
   <script>
    var myChart = echarts.init(document.getElementById('main')); 
    option = { 
        backgroundColor: '#080e38',
        color: [ 
            '#ff7f50', '#87cefa', '#da70d6', '#32cd32', '#6495ed', 
            '#ff69b4', '#ba55d3', '#cd5c5c', '#ffa500', '#40e0d0', 
            '#1e90ff', '#ff6347', '#7b68ee', '#00fa9a', '#ffd700', 
            '#6b8e23', '#ff00ff', '#3cb371', '#b8860b', '#30e0e0' 
        ],  
        tooltip : {
            //trigger: 'item',
            enterable:false,
            formatter: function (params,ticket,callback) {
                console.log(params)
                var res = '物理地址:' + params.data.from;
                res += '<br/>被攻击方：' +  params.data.to;
                res += '<br/>时间：' +  params.data.time;
                res += '<br/>攻击类型：' +  params.data.type;
                if(params.data.from){
                    return res
                }else{
                    return params.name
                }
            } 
        },
        toolbox: {
            show : true,
            orient : 'vertical',
            x: 'right',
            y: 'center',
            feature : {
                mark : {show: true},
                dataView : {show: true, readOnly: false},
                restore : {show: true},
                saveAsImage : {show: true}
            }
        },
        series : [
            {
                name: 'pm2.5',
                type: 'map',
                mapType: 'world',
                hoverable: true,
                roam:true,
                data : [],
                markLine : {
                    smooth:true,
                    symbol: ['none', 'circle'],  
                    symbolSize : 1,
                    effect : {
                        show: true,
                        scaleSize: 1,
                        period: 30,
                        color: '#fff',
                        shadowBlur: 10
                    },
                    itemStyle : {
                        normal: {
                            borderWidth:2,
                            lineStyle: {
                                type: 'solid',
                                shadowBlur: 10
                            }
                        }
                    },
                    data : [
                        [{name:'1'},{name:'2'}],
                        [{name:'1'},{name:'3'}],
                        [{name:'2'},{name:'3'}]
                    ],
                },
                markPoint : {
                        symbol:'emptyCircle',
                        symbolSize : function (v){
                            return 10 + v/10
                        },
                        effect : {
                            show: true,
                            shadowBlur : 0
                        },
                        itemStyle:{
                            normal:{
                                label:{show:false}
                            },
                            emphasis: {
                                label:{position:'top'}
                            }
                        },
                            data : [
                        {name:'1',type: "dos", time: '2017-11-01',from:'柏林',to:'上海'},
                        {name:'2',type: "dos", time: '2017-11-01',from:'柏林',to:'上海'},
                        {name:'3',type: "dos", time: '2017-11-01',from:'柏林',to:'上海'}
                    ]
                },
                geoCoord: {
                    '1':[101.15,31.89],
                    "2":[121.15,21.89],
                    '3':[141.15,31.89]
                }
            }
        ]
    }; 
    myChart.setOption(option);                  
</script>
</body>
</html>
